<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <!-- Bootstrap CSS
        Note: The 'integrity' and 'crossorigin' attributes are omitted for Bootstrap CDN links in this portfolio project.
        In a production environment, these attributes should be included to ensure security by verifying the resource's integrity.
    -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <!--
        Because the primary goal of this app is to demonstrate the use of AI and Cybersecurity,
        this page was generated using AI to save time and focus on the app's core functionality.
    -->
    <div class="container mt-5">
        <h1 class="text-center text-primary mb-4">Sign Up</h1>
        <form id="signUpForm" novalidate>
            <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text"
                       class="form-control"
                       id="username"
                       placeholder="Enter your username"
                       required
                       minlength="3">
                <div class="invalid-feedback">
                    Username must be at least 3 characters long.
                </div>
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email address</label>
                <input type="email"
                       class="form-control"
                       id="email"
                       placeholder="Enter your email"
                       required>
                <div class="invalid-feedback">
                    Please provide a valid email address.
                </div>
            </div>
            <div class="mb-3 position-relative">
                <label for="password" class="form-label">Password</label>
                <input type="password"
                       class="form-control"
                       id="password"
                       placeholder="Enter your password"
                       required
                       minlength="8"
                       pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}">
                <span class="position-absolute end-0 top-50 translate-middle-y me-3" style="cursor: pointer; font-size: 1.5rem;" id="togglePassword">
                    <i class="bi bi-eye" id="togglePasswordIcon"></i>
                </span>
                <div class="invalid-feedback">
                    Password must be at least 8 characters long, include a number, an uppercase letter, a lowercase letter, and a special character.
                </div>
            </div>
            <div class="mb-3">
                <label for="confirmPassword" class="form-label">Confirm Password</label>
                <input type="password"
                       class="form-control"
                       id="confirmPassword"
                       placeholder="Re-enter your password"
                       required>
                <div class="invalid-feedback" id="passwordMismatch" style="display: none;">
                    Passwords do not match.
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100">Sign Up</button>
        </form>
        <div class="text-center mt-3">
            <p>Already have an account? <a href="/sign-in">Sign In</a></p>
        </div>
    </div>

    <!-- Bootstrap JS
        Note: The 'integrity' and 'crossorigin' attributes are omitted for Bootstrap CDN links in this portfolio project.
        In a production environment, these attributes should be included to ensure security by verifying the resource's integrity.
    -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Password Toggle Script -->
    <script>
        const form = document.getElementById('signUpForm');
        const password = document.getElementById('password');
        const confirmPassword = document.getElementById('confirmPassword');
        const mismatchFeedback = document.getElementById('passwordMismatch');
        const togglePassword = document.getElementById('togglePassword');
        const togglePasswordIcon = document.getElementById('togglePasswordIcon');

        // Toggle password visibility
        togglePassword.addEventListener('click', () => {
            const type = password.type === 'password' ? 'text' : 'password';
            password.type = type;
            confirmPassword.type = type;
            togglePasswordIcon.classList.toggle('bi-eye');
            togglePasswordIcon.classList.toggle('bi-eye-slash');
        });

        // Form validation
        form.addEventListener('submit', (event) => {
            if (password.value !== confirmPassword.value) {
                event.preventDefault();
                mismatchFeedback.style.display = 'block';
                confirmPassword.classList.add('is-invalid');
            } else {
                mismatchFeedback.style.display = 'none';
                confirmPassword.classList.remove('is-invalid');
            }

            if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
            }
            form.classList.add('was-validated');
        });

        // Hide error feedback when user starts typing again
        confirmPassword.addEventListener('input', () => {
            if (password.value === confirmPassword.value) {
                mismatchFeedback.style.display = 'none';
                confirmPassword.classList.remove('is-invalid');
            }
        });
    </script>
</body>
</html>
